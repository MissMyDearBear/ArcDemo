## 多线程

线程是进程中最小的调度单位，同一个进程中的多个线程共享内存。所以并发的时候会出现线程安全问题

### 线程池

线程池（本文特指ThreadPoolExecutor类）顾名思义，就是一个装了线程的池子。线程池创建和管理若干线程，在需要使用的时候可以直接从线程池中取出来使用，在任务结束之后闲置等待复用，或者销毁。
线程池中的线程分为两种：核心线程和普通线程。核心线程即线程池中长期存活的线程，即使闲置下来也不会被销毁，需要使用的时候可以直接拿来用。而普通线程则有一定的寿命，如果闲置时间超过寿命，则这个线程就会被销毁。

线程池主要解决两个问题：

- 频繁的创建销毁的开销
- 任务管理


### 多线程过程中遇到的一些问题

#### 多线程并发线程安全问题

1. 并发过程中对于共享元素值的修改不是同步的，会导致最终的结果不争取

常见的解决办法：

- 如果是单个数据源可以是用AtoMicXX来保证线程安全。CAS原理，其原理是在每次设置的时候，相同的ArrayList 对应copyOrWriteList在Add方法添加锁
- 加锁synchronized


2. 多个任务并发，如果等待所有线程任务完成后再做处理

- CountDownLatch（倒计时门闩）

